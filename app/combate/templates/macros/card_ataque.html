{% macro cardAtaque(ataque) %}
<div ataque-id="{{ ataque.id }}"
    class="w-60 h-72 py-3 {% if ataque.lanzamiento == 'convergencia' %}bg-lime-400{% else %}bg-yellow-400{% endif %} bg-opacity-70">
    <p class="text-center font-bold">{{ ataque.nombre }}</p>
    <img class="w-full h-52 object-cover" src="/static/img/ataques/{{ ataque.id }}.webp" alt="{{ ataque.nombre }}">
    <div class="flex justify-between items-center px-3">
        <div class="flex items-center"><img src="{{ url_for('static', filename='img/estadisticas-combate/mana.svg') }}"
                alt="Coste de maná" title="Coste de mańa" class="w-8 h-8"><span class="text-sm font-bold">{{
                ataque.coste_mana
                }}</span></div>
        <button interaccion-ataque="no" class="p-2 w-5 h-5 rounded-full bg-wpink-500 hover:bg-wpink-100"
            boton-detalle-ataque="{{ ataque.id }}"
            onclick="document.getElementById('dialog-ataque-{{ataque.id}}').showModal()"></button>
    </div>
    <style>
        dialog::backdrop {
            backdrop-filter: blur(5px);
        }
    </style>
    <dialog interaccion-ataque="no" id="dialog-ataque-{{ataque.id}}"
        class="p-6 bg-white bg-opacity-95 max-w-[700px] text-gray-800 content-center">
        <div interaccion-ataque="no" class="flex justify-items-center mb-5">
            <span interaccion-ataque="no"
                class="w-full text-center text-4xl font-winx text-wpink-500 drop-shadow-title">{{ataque.nombre}}</span>
            <button interaccion-ataque="no" class="w-5 h-5 rounded-full bg-wpink-500 hover:bg-red-500"
                onclick="document.getElementById('dialog-ataque-{{ataque.id}}').close()" title="Cerrar"> </button>
        </div>
        <p interaccion-ataque="no">{{ataque.descripcion}}</p>
        <table interaccion-ataque="no" class="flex justify-center gap-1 text-center [&_td]:p-1">
            <tbody>
                <tr>
                    <td>Ataque físico</td>
                    <td interaccion-ataque="no">{{ ataque.ataque_fisico }}</td>
                    <td><img class="w-10 h-10"
                            src="{{ url_for('static', filename='img/estadisticas-combate/ataque-fisico.svg') }}"
                            title="Ataque físico" alt="Ataque físico"></td>
                </tr>
                <tr>
                    <td>Ataque mágico</td>
                    <td interaccion-ataque="no">{{ ataque.ataque_magico }}</td>
                    <td><img class="w-10 h-10"
                            src="{{ url_for('static', filename='img/estadisticas-combate/ataque-magico.svg') }}"
                            title="Ataque mágico" alt="Ataque mágico"></td>
                </tr>
                <tr>
                    <td>Defensa física</td>
                    <td interaccion-ataque="no">{{ ataque.defensa_fisica }}</td>
                    <td><img class="w-10 h-10"
                            src="{{ url_for('static', filename='img/estadisticas-combate/defensa-fisica.svg') }}"
                            title="Defensa física" alt="Defensa física"></td>
                </tr>
                <tr>
                    <td>Defensa mágica</td>
                    <td interaccion-ataque="no">{{ ataque.defensa_magica }}</td>
                    <td><img class="w-10 h-10"
                            src="{{ url_for('static', filename='img/estadisticas-combate/defensa-magica.svg') }}"
                            title="Defensa mágica" alt="Defensa mágica"></td>
                </tr>
                <tr>
                    <td>Coste de maná</td>
                    <td interaccion-ataque="no">{{ ataque.coste_mana }}</td>
                    <td><img class="w-10 h-10"
                            src="{{ url_for('static', filename='img/estadisticas-combate/mana.svg') }}"
                            title="Coste de maná" alt="Coste de maná"></td>
                </tr>
                <tr>
                    <td>Precisión</td>
                    <td interaccion-ataque="no">{{ ataque.precision }}</td>
                </tr>
                <tr>
                    <td>Probabilidad de crítico</td>
                    <td interaccion-ataque="no">{{ ataque.prob_critico }}</td>
                </tr>
                <tr>
                    <td>Lanzamiento</td>
                    <td>{{ ataque.lanzamiento }}</td>
                </tr>
                <tr>
                    <td>Forma</td>
                    <td>{{ ataque.forma }}</td>
                </tr>
            </tbody>
        </table>
    </dialog>
</div>
{% endmacro %}